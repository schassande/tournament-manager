<ion-app>
  <ion-menu #mainMenu menuId="main-menu" side="start" contentId="main-content">
    <ion-header>
      <ion-toolbar>
        <ion-title>Menu</ion-title>
      </ion-toolbar>
    </ion-header>
    <ion-content class="ion-padding">
      <app-main-menu (closeMenu)="closeMainMenu()"></app-main-menu>
    </ion-content>
  </ion-menu>
  <ion-menu #userMenu menuId="user-menu" side="end" contentId="main-content">
    <ion-header>
      <ion-toolbar>
        <ion-title>User menu</ion-title>
      </ion-toolbar>
    </ion-header>
    <ion-content class="ion-padding">
      <app-user-menu (closeMenu)="closeUserMenu()"></app-user-menu>
    </ion-content>
  </ion-menu>
  <div class="ion-page" id="main-content">
    <ion-header class="pageHeader">
      <ion-toolbar class="topBar">
        <ion-buttons slot="start">
          <ion-menu-button menu="main-menu"></ion-menu-button>
        </ion-buttons>
        <ion-title class="main-title">{{ title() }}</ion-title>
        <ion-buttons slot="end">
          @if(userService.currentUser$()) {
            <ion-menu-toggle menu="user-menu" >
              <app-user-menu-title></app-user-menu-title>
            </ion-menu-toggle>
          } @else {
            <app-user-menu-title [routerLink]="['/user/login']"></app-user-menu-title>
          }
        </ion-buttons>
      </ion-toolbar>
    </ion-header>
    <ion-content>
      <ion-router-outlet id="main-content"  style="margin: 5px;"></ion-router-outlet>
    </ion-content>
  </div>
</ion-app>
